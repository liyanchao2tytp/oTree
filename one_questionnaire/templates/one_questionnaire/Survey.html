{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}


<p class="animate__animated animate__bounceInLeft">欢迎参加本次测试</p>
    <!-- 欢迎参加本次测试 -->
    <div style="font-size:20px;">
        <p class="animate__animated animate__bounceInLeft">
            您正在进行10个投资项目，每个项目都有两种投资方案，两种投资方案所产生的结果如下，
            请您在两种方案中选出您认为更好的方案。
            (试验结束后，会随机选择一个<span style="color: red;">选项按比例兑换现金</span>)
        </p>
        <p class="animate__animated animate__bounceInLeft">决策情境 A    B您的选择是</p>        
    </div>

{% endblock %}
{% block content %}


    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
    <script src="https://unpkg.com/element-ui@2.13.2/lib/index.js"></script>

    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />

    <div id="root">
        <test></test>
    </div>
    <template id="table">
        <div>
            <el-table
                    :data="tableData"
                    stripe
                    style="width: 100%">
                <el-table-column
                        prop="date"
                        label="决策情境"
                        width="180">
                </el-table-column>
                <el-table-column
                        prop="name"
                        label="A"
                        width="400">
                </el-table-column>
                <el-table-column
                        prop="address"
                        label="B"
                        width='220'>
                </el-table-column>

                <el-table-column
                prop="address"
                label="你的选择是">
                    <template slot-scope="scope">
                      {% formfield player.q1 %}
                    </template>
                </el-table-column>
              
            </el-table>
        </div>
    </template>
    <script>
        const table = Vue.extend(
            {
                template: "#table",
                data() {
                    return {
                        tableData: [{
                            date: '1',
                            name: '{{ same_question }}',
                            address: '{{ q_list.0 }}'
                        },{
                            date: '2',
                            name: '{{ same_question }}',
                            address: '{{ q_list.1 }}'
                        },{
                            date: '3',
                            name: '{{ same_question }}',
                            address: '{{ q_list.2 }}'
                        },{
                            date: '4',
                            name: '{{ same_question }}',
                            address: '{{ q_list.3 }}'
                        },{
                            date: '5',
                            name: '{{ same_question }}',
                            address: '{{ q_list.4 }}'
                        },{
                            date: '6',
                            name: '{{ same_question }}',
                            address: '{{ q_list.5 }}'
                        },{
                            date: '7',
                            name: '{{ same_question }}',
                            address: '{{ q_list.6 }}'
                        },{
                            date: '8',
                            name: '{{ same_question }}',
                            address: '{{ q_list.7 }}'
                        },{
                            date: '9',
                            name: '{{ same_question }}',
                            address: '{{ q_list.8 }}'
                        },{
                            date: '10',
                            name: '{{ same_question }}',
                            address: '{{ q_list.9 }}'
                        }]
                    }
                }
            }
        );

        const app = new Vue({
            el: "#root",
            components: {
                'test': table
            }
        })
        
    </script>

<script>
    var button = document.getElementsByClassName("el-table__row")
    for(let i=0;i<button.length;i++){
        let inputs=button[i].getElementsByTagName("input")
        let labels = button[i].getElementsByTagName('label')

        for(let j=0;j<inputs.length;j++){
            let num=i+1
        {# 修改Input标签中的属性 #}{#  修改label标签的属性  #}
            inputs[j].setAttribute("name","q"+num)
            if(j%2==0){
                inputs[j].setAttribute('id',`id_q${num}_0`)
                labels[j].setAttribute('for',`id_q${num}_0`)

            }else{
                inputs[j].setAttribute('id',`id_q${num}_1`)
                labels[j].setAttribute('for',`id_q${num}_1`)

            }

        }
    }
</script>


{#    {% formfield player.q3 %}#}
{#    {% formfield player.q4 %}#}
{#    {% formfield player.q5 %}#}
{#    {% formfield player.q6 %}#}
{#    {% formfield player.q7 %}#}
{#    {% formfield player.q8 %}#}
{#    {% formfield player.q9 %}#}
{#    {% formfield player.q10 %}#}

<br/>
<div style="float:right">
    {% next_button %}
</div>


{% endblock %}